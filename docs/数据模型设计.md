## 数据模型设计

#### 用户模型 User

- 登陆信息

| 名称        | 类型   | 必选 | 约束 | 说明    |
| ----------- | ------ | ---- | ---- | ------- |
| username    | string | true |      | 昵称    |
| phoneNumber | string | true | 唯一 | 手机号  |
| avatar      | string | true |      | 头像url |

- 详细信息 

| 名称        | 类型                   | 必选 | 约束 | 说明               |
| ----------- | ---------------------- | ---- | ---- | ------------------ |
| id          | number                 | true | 唯一 | 用户id（数据库）   |
| username    | string                 | true |      | 昵称               |
| phoneNumber | string                 | true | 唯一 | 手机号             |
| avatar      | string                 | true |      | 头像url            |
| trips       | Object-Array[Trip]     | true |      | 该用户的行程列表   |
| feedbacks   | Object-Array[siteLike] | true |      | 推荐信息的反馈列表 |

- 推荐信息 siteLike（单条）

| 名称         | 类型    | 必选 | 约束 | 说明                 |
| ------------ | ------- | ---- | ---- | -------------------- |
| id           | number  | true | 唯一 | 推荐信息id（数据库） |
| userPhoneNum | number  | true |      | 用户手机号           |
| site         | [site]  | true |      | 推荐的地点信息       |
| feedback     | integer | true |      | 用户对该推荐的反馈值 |

#### 目的地模型 Destination

| 名称        | 类型   | 必选  | 约束 | 说明           |
| ----------- | ------ | ----- | ---- | -------------- |
| id          | number | true  | 唯一 | 目的地id       |
| name        | String | true  |      | 名称           |
| description | string | true  |      | 描述           |
| parent      | number | false |      | 父级目的地的id |

#### 地点模型 Location

> 类型枚举（可讨论修改）:
>
> 景点（博物馆、公园等）、游乐场、网红打卡点/地标、餐馆、展览、商圈、娱乐场所、住宿、交通站点、公共设施、其他

| 名称          | 类型            | 必选  | 约束 | 说明                 |
| ------------- | --------------- | ----- | ---- | -------------------- |
| id            | number          | true  | 唯一 | 地点id               |
| name          | string          | true  |      | 地点名称             |
| label         | Array[String]   | true  |      | 标签（可以有多个）   |
| type          | Enum[site]      | true  |      | 分类                 |
| destinationId | number          | true  |      | 所属目的地点         |
| address       | string          | true  |      | 详细地址             |
| description   | string          | true  |      | 描述                 |
| cost          | number          | true  |      | 人均费用（元）       |
| timeCost      | number          | true  |      | 人均游览时间（分钟） |
| rate          | number(0,5)     | false |      | 平均评分             |
| heat          | number(0, 1000) | true  |      | 热度                 |
| imageUrl      | string          | true  |      | 图片地址             |

图片地址的具体实现方法待定，比如可以是/images/id/，然后里面有thumbnail.jpg，fullres.jpg，img1.jpg...等

#### 活动模型 Activity

> 类型枚举（可讨论修改）:
>
> 游览、饮食、交通、休息、其他

| 名称        | 类型                     | 必选  | 约束 | 说明                 |
| ----------- | ------------------------ | ----- | ---- | -------------------- |
| id          | number                   | true  |      | 活动id               |
| name        | string                   | true  |      | 活动名称             |
| type        | Array-Enum[Activity]     | true  |      | 分类（可能有多个）   |
| tripId      | [Trip] (simple) / number | true  |      | 所属行程id           |
| destination | [Destination]            | true  |      | 所属目的地点         |
| site        | [site]                   | true  |      | 所属具体地点         |
| description | string                   | true  |      | 描述                 |
| onDay       | number                   | true  |      | 安排在行程的第几天   |
| duration    | number                   | true  |      | 活动持续时间（分钟） |
| cost        | number                   | true  |      | 预计花费（元）       |
| startTime   | time                     | false |      | 开始时间             |
| endTime     | time                     | false |      | 结束时间             |
| remarks     | string                   | false |      | 备注                 |

> 备注：若为交通活动，所属目的地点喝所属具体地点均以出发点为准

#### 行程模型 Trip

| 名称            | 类型                   | 必选  | 约束 | 说明                |
| --------------- | ---------------------- | ----- | ---- | ------------------- |
| id              | number                 | true  |      | 行程的id            |
| name            | string                 | true  |      | 行程名称            |
| type            | string                 | true  |      | 分类（用户自定义）  |
| description     | string                 | true  |      | 描述                |
| departureId     | Number                 | true  |      | 出发地destinationId |
| numOfTourists   | number                 | true  |      | 行程人数            |
| startDate       | date                   | true  |      | 开始日期            |
| endDate         | date                   | true  |      | 结束日期            |
| duration        | number                 | true  |      | 持续时间（天）      |
| activityIds     | Object-Array[Activity] | true  |      | 活动列表的id        |
| numOfActivities | number                 | true  |      | 总活动数            |
| totalCost       | number                 | true  |      | 总预计花费          |
| remarks         | string                 | false |      | 备注                |

